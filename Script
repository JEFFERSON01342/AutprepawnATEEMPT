// ==UserScript==
// @name         TrickSplit Auto-Respawn Key
// @namespace    http://tampermonkey.net/
// @version      1.0
// @description  Presiona K para auto-respawn en TrickSplit.io (PLAY/CONTINUE)
// @match        https://tricksplit.io/*
// @grant        none
// ==/UserScript==

(function() {
    console.log("[AutoRespawn] Script activo");

    document.addEventListener("keydown", function(e) {
        if (e.key.toLowerCase() !== "k") return;

        console.log("[AutoRespawn] Buscando PLAY/CONTINUE...");

        let clicked = false;

        // Buscamos todos los elementos visibles con texto
        document.querySelectorAll("div").forEach(el => {
            if (!el.offsetParent) return; // ignorar invisibles

            const text = (el.innerText || "").trim().toUpperCase();
            if (text === "PLAY" || text === "CONTINUE") {
                // Primero intentamos click normal
                el.click();
                clicked = true;
                console.log("[AutoRespawn] Click en:", el);
            }
        });

        // Si no se encontr√≥, simulamos click en canvas central (por si React usa canvas listener)
        if (!clicked) {
            const canvas = document.querySelector("#canvas");
            if (canvas) {
                const rect = canvas.getBoundingClientRect();
                const evt = new MouseEvent("pointerdown", {
                    bubbles: true,
                    cancelable: true,
                    clientX: rect.width/2,
                    clientY: rect.height/2
                });
                canvas.dispatchEvent(evt);
                console.log("[AutoRespawn] Disparado click en canvas central");
            }
        }
    });
})();

